<!DOCTYPE html>
<html>
<head>
  <title>Unseen Prediction</title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
</head>

<body>
<h3>Prediction for Unseen Values</h3>

<!-- Normal Input -->
<input type="number" id="userInput" placeholder="Enter X value">
<button onclick="predict()">Predict</button>

<h4 id="output"></h4>

<script>
let model;

async function run(){
  const xs = tf.tensor2d([1,2,3,4,5,6],[6,1]);
  const ys = tf.tensor2d([3,5,7,9,11,13],[6,1]);

  model = tf.sequential();
  model.add(tf.layers.dense({units:1,inputShape:[1]}));

  model.compile({optimizer:'sgd', loss:'meanSquaredError'});
  await model.fit(xs, ys, {epochs:100});

  // Default unseen test
  const test = tf.tensor2d([7,8,10],[3,1]);
  const preds = model.predict(test);

  console.log("Predictions for 7,8,10:");
  preds.print();

  console.log("Expected: 15, 17, 21 approx");

  // Console input function
  window.predictValue = function(x){
    const pred = model.predict(tf.tensor2d([x],[1,1]));
    pred.print();
  };

  console.log("Use predictValue(x) in console.");
}

// Button prediction
function predict(){
  const val = Number(document.getElementById("userInput").value);
  const pred = model.predict(tf.tensor2d([val],[1,1]));

  pred.data().then(res=>{
    document.getElementById("output").innerText =
      "Predicted Y â‰ˆ " + res[0].toFixed(2);
  });
}

run();
</script>

</body>
</html>
